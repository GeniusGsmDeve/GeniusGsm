{% load static %}
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>GeniusGsm â€” Create Temporary Address</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/static/mailreceiver/style.css">
</head>
<body>
  <nav class="navbar navbar-light bg-white shadow-sm">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="/">
        {% if site_name %}
          <span class="brand" style="font-weight:600; font-size:16px;">{{ site_name }}</span>
        {% else %}
          <span class="brand">GeniusGsm</span>
        {% endif %}
      </a>
    </div>
  </nav>

  <main class="container center mt-5">
    <div class="row">
      <div class="col-md-8 offset-md-2 text-center">
        <h1 class="mb-3">Create a Temporary Email</h1>
        <p class="lead">Click the button to generate a disposable address at <strong>{{ domain }}</strong>.</p>
        <form method="post">{% csrf_token %}
          <button class="btn btn-primary btn-lg" type="submit">Generate Address</button>
        </form>

        {% if address %}
        <div class="mt-4 alert alert-light d-flex align-items-center justify-content-between">
          <div>
            <div class="small text-muted">Current temporary address</div>
            <div class="h5 mb-0"><span id="current-address">{{ address }}</span></div>
          </div>
          <div class="text-end">
            <button id="btn-copy-index" class="btn btn-outline-primary btn-sm mb-2">Copy</button>
            <a id="btn-inbox-open" class="btn btn-primary btn-sm d-block" href="/inbox/{{ local }}/">Open Inbox</a>
          </div>
        </div>
        {% endif %}

        <hr class="my-4">

        <p>Or inspect an existing local part:</p>
        <form class="row g-2 justify-content-center" action="/inbox/" method="get" onsubmit="event.preventDefault(); location.href='/inbox/'+this.local.value;">
          <div class="col-auto">
            <input name="local" class="form-control" placeholder="enter-local-part" />
          </div>
          <div class="col-auto">
            <button class="btn btn-outline-secondary" type="submit">Open Inbox</button>
          </div>
        </form>

      </div>
    </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
